<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
    <title>TPINVis</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="main.css">
</head>
<style>
    body{
        overflow: hidden;
        color: black;
    }
    @font-face {
          font-family: 'iconfont';  /* project id 988730 */
          src: url('//at.alicdn.com/t/font_988730_3lq7w2oeds2.eot');
          src: url('//at.alicdn.com/t/font_988730_3lq7w2oeds2.eot?#iefix') format('embedded-opentype'),
          url('//at.alicdn.com/t/font_988730_3lq7w2oeds2.woff2') format('woff2'),
          url('//at.alicdn.com/t/font_988730_3lq7w2oeds2.woff') format('woff'),
          url('//at.alicdn.com/t/font_988730_3lq7w2oeds2.ttf') format('truetype'),
          url('//at.alicdn.com/t/font_988730_3lq7w2oeds2.svg#iconfont') format('svg');
    }
    .iconfont{
        font-family:"iconfont" !important;
        font-size:16px;font-style:normal;
        -webkit-font-smoothing: antialiased;
        -webkit-text-stroke-width: 0.2px;


        -moz-osx-font-smoothing: grayscale;
    }
    .iconfont-title{
        font-family:"iconfont" !important;
        font-size:25px;
        font-style:normal;
        -webkit-font-smoothing: antialiased;
        -webkit-text-stroke-width: 0.2px;
        -moz-osx-font-smoothing: grayscale;
        margin-right: 10px;
    }
    .iconfont-subtitle{
        font-family:"iconfont" !important;
        font-size:18px;
        font-style:normal;
        -webkit-font-smoothing: antialiased;
        -webkit-text-stroke-width: 0.2px;
        -moz-osx-font-smoothing: grayscale;
        margin-right: 5px;
    }
    .detail-block{
        padding-top: 10px;
        position: absolute;
        right: 10px;
        top: 62px;
        width: 800px;
        color: #000;
        background-color: white;
        padding-bottom: 40px;
        vertical-align: center
        /*height: 3000px;*/
    }
    .explanation-block{
        /*padding-top: 30px;*/
        position: absolute;
        right: 10px;
        top: 316px;
        width: 800px;
        /*border-top: #6c757d 1px solid;*/
        background-color: white;
        color: #000;
        height: 600px;
        padding-left: 50px;
    }
    .explanation-block ul li{
        line-height: 30px;
    }
    .crosswise-block{
        position: absolute;
        right: 25px;
        top: 956px;
        width: 800px;
        background-color: white;
        height: 490px;
        padding-bottom: 10px;
    }
    .title-group {
        /*border-top: 1px dotted gray;*/
        padding-top: 10px;
        position: absolute;
        right: 10px;
        top: 916px;
        width: 800px;
        background-color: white;
        color: #000;
        height: 40px;
        margin-bottom: 40px;

    }
    .button {
        /*background-color: #9fcdff;*/
        cursor: pointer;
        font-size: 18px;
        font-weight: bold;
    }
    .pointer{
        cursor: pointer;
    }
    .active {
        color: rgb(233,150,122);
    }
    .hidden {
        display: none;
    }
    .pattern-img {
        margin: 20px 0px 0px 20px;
        width: 200px;
        height: 200px;
        float: left;
        /*position: absolute;*/
    }
    .pattern-title {
        line-height: 60px;
        font-size: 18px;
        font-weight: bold;
    }
    dt{
        font-weight: normal;
    }

    .my-img1 {
        width: 300px;
        height: 300px;
        /*position: absolute;*/
        /*margin-top: 28px;*/
        left:600px;
        z-index:10;
        cursor: pointer;
    }
    .my-img2 {
        width: 300px;
        height: 300px;
        /*position: absolute;*/
        /*margin-top: 28px;*/
        /*left:800px;*/
        z-index:10;
        cursor: pointer;

    }
    .my-img3 {
        width: 300px;
        height: 300px;
        /*position: absolute;*/
        /*margin-top: 28px;*/
        /*left:1000px;*/
        z-index:10;
        cursor: pointer;

    }
    .pattern-button{
        background-color: white;
        position: absolute;
        border:1px solid gray;
        border-top:none;
        margin-top: 28px;
        top:33px;left:600px;
        width: 940px;
        height: 300px;
        z-index:9;
    }
    .person-vertex{
        margin-left: 80px;
        width: 30px;
        height: 30px;
        background: deepskyblue;
        -moz-border-radius: 50%;
        -webkit-border-radius: 50%;
        border-radius: 50%;
        margin-bottom: 30px;
    }
    .enterprise1-vertex{
        float: left;
        margin-left: 40px;
        width: 25px;
        height: 25px;
        background: deepskyblue;
        /*-moz-border-radius: 50%;*/
        /*-webkit-border-radius: 50%;*/
        /*border-radius: 50%;*/
    }
    .enterprise2-vertex{
        margin-left: 120px;
        width: 25px;
        height: 25px;
        background: deepskyblue;
        /*-moz-border-radius: 50%;*/
        /*-webkit-border-radius: 50%;*/
        /*border-radius: 50%;*/
    }
    .group-list{
        position: fixed;
        color: #000;
        background-color: #fafafa;
        padding: 10px;
        border-radius: 10px;
        display: none;
        width: 21%;
        /*height: 850px;*/
        border: 1px solid gray;
        padding-bottom: 30px;
        font-size: 14px;
    }
    .detail-block-position-3{
        margin-top: 20%;
        margin-left: 20%;
    }
    .label{
        font-size: 10pt;
        /*color: #fff;*/
        background-color: rgba(255, 255, 255, 0.9);
        width: 20px;
        height: 20px;
        position: fixed;
    }
     .label-p1-3{
        margin-top:25.2%;
        margin-left:33.4% ;
    }
    .label-c1-3{
        margin-top: 29.5%;
        margin-left:31.2% ;
    }
    .label-c2-3{
        margin-top: 28.3%;
        margin-left:36.4% ;
    }
    .label-p1-4{
        margin-top:28.9%;
        margin-left:34.1% ;
    }
    .label-p2-4{
        margin-top:31.7%;
        margin-left:36% ;
    }
    .label-c1-4{
        margin-top: 26%;
        margin-left:32.7% ;
    }
    .label-c2-4{
        margin-top: 34.2%;
        margin-left:40% ;
    }
    .label-p1-5{
        margin-top:23.2%;
        margin-left:30.8% ;
    }
    .label-p2-5{
        margin-top: 23.2%;
        margin-left:36.5% ;
    }
    .label-c1-5{
        margin-top: 26%;
        margin-left:32.5% ;
    }
    .label-c2-5{
        margin-top: 26.3%;
        margin-left:37.5% ;
    }
    .label-c3-5{
        margin-top: 29.2%;
        margin-left:36.1%;
    }
    .attribute{
        color: #7fb1bd;
        /*font-weight: bold;*/
    }



</style>
<body>
<nav class="navbar navbar-light navbar-expand-sm" style="background-color: #212529;color:white">
    <div class="container" style="margin-left: 0px;justify-content:baseline;">
        <!--<div class="myContainer">-->
        <!--<div class="navbar-brand ">-->
        <div style="font-weight: bold;font-size: 20px ;margin-right: 10px">
            TaxDG</div>
        <!--<div class="form-inline mr-auto" id="search">-->
            <!--<input class="form-control" placeholder="企业名称">-->
            <!--<button class="btn btn-outline-primary ml-1">搜索</button>-->
        <!--</div>-->
        <div class="form-inline" id="search">
            <input class="form-control" placeholder="企业名称" style="margin-left:10px;" value="Shan Xi Zheng Yuan">
            <button class=" btn   ml-1" style="margin-left:10px;">Search</button>
        </div>
        <ul class="navbar-nav">
            <li class="dropdown" id="structure">
                <div class="nav-link dropdown-toggle" style="color: white" data-toggle="dropdown"><i class="iconfont-subtitle">&#xebd8;</i>Structure</div>
                <div class="dropdown-menu" >
                    <div class="dropdown-item" id="transaction-network" >transaction network</div>
                    <div class="dropdown-item" id="control-network" >control network</div>
                    <div class="dropdown-item" id="investment-network" >investment network</div>
                    <!--<div class="dropdown-item" id="all-affiliated-transaction" onclick="activateAffiliatedTransaction()">关联交易</div>-->
                </div>
            </li>
            <li id="group" >
                <div class="nav-link"  style="color: white" ><i class="iconfont-subtitle">&#xe603;</i>Community</div>
            </li>
            <li><div style="line-height: 44px;margin-left: 10px" onclick="showPattern(1)"><i class="iconfont-subtitle">&#xe6d7;</i>Affiliated Transaction Group</div></li>
            <li><div id="cancel-show-pattern" class= "hidden" style="line-height: 44px;margin-left: 10px" onclick="showPattern(0)">❌</div></li>

            <!--<li >-->
                <!--<div  id="all-affiliated-transaction"  style="line-height: 40px" onclick="activateAffiliatedTransaction(3)">AffiliatedTransaction-3</div>-->
            <!--</li>-->
            <!--<li >-->
                <!--<div  id="all-affiliated-transaction-4"  style="margin-left: 10px;line-height: 40px" onclick="activateAffiliatedTransaction(4)">AffiliatedTransaction-4</div>-->
            <!--</li>-->
            <!--<li >-->
                <!--<div  id="all-affiliated-transaction-5"  style="margin-left: 10px; line-height: 40px" onclick="activateAffiliatedTransaction(5)">AffiliatedTransaction-5</div>-->
            <!--</li>-->
            <li id="affiliated-transaction">
                <div class="nav-link" style="color: white" >affiliated transanction</div>
            </li>
            <li id="backtrack">
                <div class="nav-link" style="color: white" >return</div>
            </li>
        </ul>
	    </div>

        <div id ="affiliated-pattern"  class="pattern-button hidden" >
            <img id="all-affiliated-transaction" class="my-img1" src="pattern3.svg"  alt="pattern3"   onclick="activateAffiliatedTransaction(3)"/>
            <img id="all-affiliated-transaction-4" class="my-img2" src="pattern4.svg"  alt="pattern4"   onclick="activateAffiliatedTransaction(4)"/>
            <img id="all-affiliated-transaction-5"  class="my-img3" src="pattern5.svg"  alt="pattern5"   onclick="activateAffiliatedTransaction(5)"/>
        </div>
        <!--<div id="detail-3" class="detail-block" style="padding-top: 70px; vertical-align: center"; >-->
             <!--&lt;!&ndash;<img class="pattern-img" src="pattern-3.png"/>&ndash;&gt;-->
            <!--<div id='person' class="person-vertex"></div>-->
            <!--<div id='enterprise1' class="enterprise1-vertex"></div>-->
            <!--<div id='enterprise2' class="enterprise2-vertex"></div>-->



         <!--</div>-->
         <!--<div id = "explanation-3" class="explanation-block">-->
             <!--&lt;!&ndash;<h3 style="margin-left: 30px ;margin-bottom: 20px;">Explanation</h3>&ndash;&gt;-->
             <!--<span class="pattern-title">由许坚构成的三角嫌疑群组</span>-->
              <!--<div>-->
                 <!--<dl>-->
                     <!--<dt>Person: XuJian</dt>-->
                     <!--<dt>Enterprise: 陕西正源股份有限公司 、铜川和信科技环保有限责任公司</dt>-->
                 <!--</dl>-->
             <!--</div>-->
                 <!--<li >**********</li>-->
                 <!--<li>2014-2015 陕西华越汽车配件维修有限责任公司的专用发票变动率超出预警值范围</li>-->
                 <!--<li>2014-2015 陕西华越汽车配件维修有限责任公司的进销变动率超出与预警值范围</li>-->
                 <!--<li>综上，由郭志安，陈萍构成的四角嫌疑群组有较大的可能性是基于关联交易行为的偷逃漏税群组</li>-->
             <!--</ul>-->
         <!--</div>-->
        <div id="detail-3" class="detail-block"  >
             <img class="pattern-img" src="pattern-3.png"/>
             <span class="pattern-title">Triangle suspicious group centered by Xu Jian</span>
             <div>
                 <dl>
                     <dt><i class="iconfont">&#xe663;</i> Person: Xu Jian</dt>
                     <!--<dt>Enterprise: 陕西正源股份有限公司 、铜川和信科技环保有限责任公司</dt>-->
                     <dt><i class="iconfont">&#xe62e;</i> Company: C1 company、C2 company</dt>

                 </dl>
             </div>
             <div id = "pattern-detail-3"  >
                 <dl>
                     <!--<dt>XuJian -> 陕西正源股份有限公司 (P->C1): control</dt>-->
                     <!--<dt>XuJian -> 铜川和信科技环保有限责任公司 (P->C2): control & investment</dt>-->
                     <!--<dt>陕西正源股份有限公司 -> 铜川和信科技环保有限责任公司 (C1->C2): transaction</dt>-->
                     <dt><i class="iconfont">&#xe6ad;</i>  Xu Jian -> C1 Company ( P->C1 ): control</dt>
                     <dt><i class="iconfont">&#xe6ad;</i>  Xu Jian -> C2 Company ( P->C2 ): control & investment</dt>
                     <dt><i class="iconfont">&#xec53;</i>  C1 Company -> C2 Company ( C1->C2 ): transaction</dt>
                 </dl>
             </div>
         </div>
        <div id = "explanation-3" class="explanation-block">
            <!--<h3 style="margin-bottom: 20px">Explanation</h3>-->
             <img width = "220px" height="220px" style ="float:right" src="pattern3.svg">
             <div>
                 <h4><i class="iconfont-title">&#xebb7;</i>Pattern explanation</h4>
                 <p><i class="iconfont">&#xe64f;</i> Take the triangle suspicious group composed of P, C1, and C2 as an example. P is a taxpayer of two companies, C1 and C2. There is a trading relationship between the two companies C1 and C2.</p>
                 <p><i class="iconfont">&#xe64f;</i> According to national policy, the tax rate required for C1 is lower than the tax rate for C2. P uses the difference in tax rate between C1 and C2 to sell the C2 product to C1 at a low price, so that the income is transferred to C2.</p>
                 <p><i class="iconfont">&#xe64f;</i> P1 can evade tax by enjoying a lower tax rate through the above-mentioned low-price buy-in and loss-selling income.</p>
             </div>
             <div>
                 <h4 style="padding-bottom: 8px"><i class="iconfont-title">&#xec34;</i>Suspicious phenomenon</h4>
                 <p><i class="iconfont">&#xe600;</i> Tax burden level of C1 in 2015.11 is lower than the industry average tax burden in the same period</p>
                 <p><i class="iconfont">&#xe600;</i> The elastic coefficient of C1 in 2015-3 is higher than the warning value</p>
                 <p><i class="iconfont">&#xe600;</i> The tax burden level of C2 in 2014-2015 is much higher than the industry average tax burden in the same period.</p>
                 <p><i class="iconfont">&#xe600;</i> The variation in the special invoice of C2 in 2015-11 is much higher than the warning value.</p>
                 <p><i class="iconfont">&#xe600;</i> The elasticity coefficient of C2 in 2015-3 is higher than the warning value</p>
             </div>

         </div>
         <div id="detail-4" class="detail-block hidden"  >
             <img class="pattern-img" src="pattern-41.png"/>
             <span class="pattern-title">Quadrangle suspicious group centered by GuoZhiAn、ChenPing</span>
             <div>
                 <dl>
                     <dt><i class="iconfont">&#xe663;</i> Person: Guo Zhi An(P1), Chen Ping(P2) </dt>
                     <!--<dt>Enterprise: 陕西华越汽车配件维修有限责任公司 、西安厚仁商贸有限公司</dt>-->
                     <dt><i class="iconfont">&#xe62e;</i> Company: C1 Company 、C2 Company</dt>
                 </dl>
             </div>
             <div id = "pattern-detail-4"  >
                 <dl>
                     <!--<dt>GuoZhiAn -> ChenPing (A->B): kinship</dt>-->
                     <!--<dt>GuoZhiAn -> 陕西华越汽车配件维修有限责任公司 (A->C1): control & investment</dt>-->
                     <!--<dt>ChenPing -> 西安厚仁商贸有限公司 (B->C2): investment</dt>-->
                     <!--<dt>陕西华越汽车配件维修有限责任公司 -> 西安厚仁商贸有限公司 (C1->C2):</dt>-->
                     <!--<dt style = "margin-left: 220px">transaction</dt>-->
                     <dt><i class="iconfont">&#xe6ad;</i> GuoZhiAn -> ChenPing ( P1->P2 ): kinship</dt>
                     <dt><i class="iconfont">&#xe6ad;</i> GuoZhiAn -> C1 company ( P1->C1 ): control & investment</dt>
                     <dt><i class="iconfont">&#xe6ad;</i> ChenPing -> C2 company ( P2->C2 ): investment</dt>
                     <dt><i class="iconfont">&#xec53;</i> C1 company -> C2 company ( C1->C2 ):transaction</dt>
                 </dl>
             </div>
         </div>
         <div id = "explanation-4" class="explanation-block hidden">
              <img width = "220px" height="220px" style ="float:right" src="pattern4.svg">
              <div>
                 <h4><i class="iconfont-title">&#xebb7;</i>Pattern explanation</h4>
                 <p><i class="iconfont">&#xe64f;</i> Take the quadrangle suspicious group composed of P1,P2, C1, and C2 as an example. P1 is a taxpayer of company C1 ,P2 is a taxpayer of company C2. P1 and P2 are kinship. There is a trading relationship between the two companies C1 and C2.</p>
                 <p><i class="iconfont">&#xe64f;</i> According to national policy, the tax rate required for C1 is lower than the tax rate for C2. P uses the difference in tax rate between C1 and C2 to sell the C2 product to C1 at a low price, so that the income is transferred to C2.</p>
                 <p><i class="iconfont">&#xe64f;</i> P1 and P2 can evade tax by enjoying a lower tax rate through the above-mentioned low-price buy-in and loss-selling income.</p>
             </div>
             <div>
                 <h4 style="padding-bottom: 8px"><i class="iconfont-title">&#xec34;</i>Suspicious phenomenon</h4>
                 <p><i class="iconfont">&#xe600;</i> Tax burden variation rate of C1,C2 is out of the warning rate range.</p>
                 <p><i class="iconfont">&#xe600;</i> The Purchase-Sale Tax variation rate of C1 exceed the maximum warning rate.</p>
                 <p><i class="iconfont">&#xe600;</i> The Elastic coefficient rate of C1 exceed the maximum warning rate.</p>
                 <!--<p><i class="iconfont">&#xe600;</i> Tax burden variation rate of C2 is out of the warning rate range.</p>-->
                 <p><i class="iconfont">&#xe600;</i> Purchase-Sale Tax variation rate of C2 is much lower than the minimum warning rate.</p>
                 <p><i class="iconfont">&#xe600;</i> The variation in the special invoice of C2 is exceed the maximum warning rate.</p>
             </div>
             <!--<h3 style="margin-left: 30px ;margin-bottom: 20px;">Explanation</h3>-->
             <!--<ul  style="padding-left: 40px;">-->
                 <!--<li >2014-2015 西安厚仁商贸有限公司的税负平均水平远低于同期同行业同规模的公司的平均税负值</li>-->
                 <!--<li>2014-2015 西安厚仁商贸有限公司的专用发票变动率超出预警值范围</li>-->
                 <!--<li>2014-2015 西安厚仁商贸有限公司的税负变动率低于预警值范围</li>-->
                 <!--<li>2014-2015 陕西华越汽车配件维修有限责任公司的专用发票变动率超出预警值范围</li>-->
                 <!--<li>2014-2015 陕西华越汽车配件维修有限责任公司的进销变动率超出与预警值范围</li>-->
                 <!--<li>综上，由郭志安，陈萍构成的四角嫌疑群组有较大的可能性是基于关联交易行为的偷逃漏税群组</li>-->
             <!--</ul>-->
         </div>
        <div id="detail-5" class="detail-block hidden"  >
                 <img class="pattern-img" src="pattern-5.png"/>
                 <span class="pattern-title">Pentagon suspicious group centered by Zou Yong、Bai Rui Feng</span>
                 <div>
                     <dl>
                         <dt><i class="iconfont">&#xe663;</i> Person: Zou Yong (P1), Bai Rui Feng (P2)</dt>
                         <!--<dt>Enterprise: 西安天博电子有限公司 、西安厚仁商贸有限公司</dt>-->
                         <dt><i class="iconfont">&#xe62e;</i> Company: C1 company 、C2 company 、C3 company</dt>
                     </dl>
                 </div>
                 <div id = "pattern-detail-5" >
                     <dl>
                         <dt><i class="iconfont">&#xe6ad;</i> Zou Yong -> Bai Rui Feng ( P1->P2 ): kinship</dt>
                         <dt><i class="iconfont">&#xe6ad;</i> Zou Yong -> C1 company ( P1->C1) : control & investment</dt>
                         <dt><i class="iconfont">&#xe6ad;</i> Bai Rui Feng -> C2 company ( P2->C2 ): investment</dt>
                         <dt><i class="iconfont">&#xec53;</i> C2 company -> C3 company ( C2->C3 ): investment</dt>
                         <dt style = "margin-left: 220px"><i class="iconfont">&#xec53;</i> C1 company -> C3 company ( C1->C3 ): transaction</dt>
                         <!--<dt>西安嘉润通信技术有限公司 -> 陕西三太科技实业有限公司 (C2->C3): investment</dt>-->
                         <!--<dt></dt>-->
                         <!--<dt style = "margin-left: 220px">西安天博电子有限公司 -> 陕西三太科技实业有限公司 (C1->C3):transaction</dt>-->
                     </dl>
                 </div>
        </div>
        <div id = "explanation-5" class="explanation-block hidden">
              <!--<h3 style="margin-bottom: 20px">Explanation</h3>-->
              <img width = "220px" height="220px" style ="float:right" src="pattern5.svg">
              <div>
                 <h4><i class="iconfont-title">&#xebb7;</i>Pattern explanation</h4>
                 <p><i class="iconfont">&#xe64f;</i> Take the pentagon suspicious group composed of P1,P2, C1,C2 and C3 as an example. P1 is a taxpayer of company C1 ,P2 is a taxpayer of company C2. P1 and P2 are kinship, company C2 control company C3 . There is a trading relationship between the two companies C1 and C3.</p>
                 <p><i class="iconfont">&#xe64f;</i> According to national policy, the tax rate required for C1 is lower than the tax rate for C3. P2 can control C3 indirectly through C2. So that P1 and P2 can use the difference in tax rate between C1 and C3 to sell the C3 product to C1 at a low price , then the income is transferred to C2.</p>
                 <p><i class="iconfont">&#xe64f;</i> P1 and P2 can evade tax by enjoying a lower tax rate through the above-mentioned low-price buy-in and loss-selling income.</p>
             </div>
             <div>
                 <h4 style="padding-bottom: 8px"><i class="iconfont-title">&#xec34;</i>Suspicious phenomenon</h4>
                 <p><i class="iconfont">&#xe601;</i> Tax burden variation of C1 is in range of warning rate</p>
                 <p><i class="iconfont">&#xe600;</i> Tax level of C1 is much higher than the industry average tax burden in the same period</p>
                 <p><i class="iconfont">&#xe600;</i> The purchase-sale variation Rate of C1 is lower than warning rate</p>
                 <p><i class="iconfont">&#xe601;</i> Tax burden variation of C2 is in range of warning rate</p>
                 <p><i class="iconfont">&#xe600;</i> The variation in the special invoice of C2 is much higher than the warning value.</p>
                 <p><i class="iconfont">&#xe601;</i> Tax burden variation of C3 is in out of range of warning rate</p>
                 <p><i class="iconfont">&#xe600;</i> The variation in the special invoice of C3 is much higher than the warning value.</p>
             </div>
                 <!--<h3 style="margin-left: 30px ;margin-bottom: 20px;">Explanation</h3>-->
                 <!--<ul  style="padding-left: 40px;">-->
                     <!--<li>2014-2015 西安天博电子有限公司的税负平均水平高于同期同行业同规模的公司的平均税负值</li>-->
                     <!--<li>2014-2015 西安天博电子有限公司的专用发票变动率超出预警值范围</li>-->
                     <!--<li>2014.5  西安天博电子有限公司的弹性系数高于预警值范围</li>-->
                     <!--<li>2014.5 2014.7 2014.10  陕西三太科技实业有限公司的弹性系数低于预警值范围</li>-->
                     <!--<li>2014-2015 陕西三太科技实业有限公司的税负变动率超出预警值范围</li>-->
                     <!--<li>2014-2015 陕西三太科技实业有限公司的进销变动率超出与预警值范围</li>-->
                     <!--<li>综上，由邹勇，白瑞峰构成的四角嫌疑群组有较大的可能性是基于关联交易行为的偷逃漏税群组</li>-->
                 <!--</ul>-->
        </div>



         <div id = "buttonTitle" class="title-group">
              <!--abnormity-->
             <span id="sfsp-title" class="button active" style="margin-left: 80px" onclick="showChart('sfsp')">Tax level</span>  |
             <span id="sfbd-title" class="button" onclick="showChart('sfbd')">Tax changes</span>  |
             <span id="zpbd-title" class="button" onclick="showChart('zpbd')">Special invoice changes</span>  |
             <span id="jxbd-title" class="button" onclick="showChart('jxbd')">Net changes</span>  |
             <span id="txxs-title" class="button" onclick="showChart('txxs')">Elastic coefficient</span>
         </div>
         <div id="sfsp" class="crosswise-block">
         </div>
         <div id="sfbd" class="crosswise-block hidden">
         </div>
         <div id="zpbd" class="crosswise-block hidden">
         </div>
         <div id="jxbd" class="crosswise-block hidden">
         </div>
         <div id="txxs" class="crosswise-block hidden">
         </div>
         <div id="default" class="crosswise-block hidden">
             <p>没有对应数据！</p>
         </div>
        </div>

</nav>
<canvas height="100%"></canvas>
<!--<div id="tax-big-data-group">税务大数据组</div>-->
<!--<div id="status" >-->
    <!--<div>坐标：<span id="x"></span> <span id="y"></span></div>-->
    <!--<div>层级：<span id="level"></span></div>-->
<!--</div>-->
<div class="container mt-3" style="margin-left:0px;">
    <div class="group-list" id="list" >
        <!--<div ></div>-->
    </div>
    <div id="information" style="color:white"></div>
    <div id="p1" class="label hidden">P1</div>
    <div id="p2" class="label hidden">P2</div>
    <div id="c1" class="label hidden">C1</div>
    <div id="c2" class="label hidden">C2</div>
    <div id="c3" class="label hidden">C3</div>

</div>

<script src="echarts.min.js"></script>
<script src="three.min.js"></script>
<script src="jquery-3.2.1.min.js"></script>
<script src="jquery.mousewheel.min.js"></script>
<script src="popper.js"></script>
<script src="bootstrap.min.js"></script>
<script src="main.js"></script>
<script type="text/javascript">
        var detailChart = $("#detail");

        // 基于准备好的dom，初始化echarts实例
        // var detailChart = echarts.init(document.getElementById('detail'));
        // 使用刚指定的配置项和数据显示图表表示横向评估。
        function changeDataSource(nsrdzdah) {
            //输入纳税人id，根据后台数据渲染对应五个异常图，表示纵向评估
            console.log(nsrdzdah)
            console.log('http://localhost:8081/tianwangcha/yzk/nsr/json/'+nsrdzdah)
            //税负水平异常图
            $
            .get(
                    'http://localhost:8081/tianwangcha/yzk/nsr/json/'+nsrdzdah)
            .done(
                    function(yzkJson) {
                        console.dir(yzkJson);
                        console.log(yzkJson);
                        // 首先判断是否为空，以便对该折线图进行显示或隐藏
                        if (jQuery
                                .isEmptyObject(yzkJson.year_month)) {
                            return;
                        }
                        // 基于准备好的dom，初始化echarts实例
                        var cross_wise_chart = echarts.init(document.getElementById('sfsp'));
                        var xdata = yzkJson.year_month;
                        var ydata1 = yzkJson.sf;
                        var ydata2 = yzkJson.sfhy;
                        var ydata3 = yzkJson.sfhyyjz;
                        var option2 = {
                            // textStyle: {
                            //     color:"white"
                            // },
                            tooltip : {
                                trigger : 'axis',
                                position : function(pt) {
                                    return [ pt[0],
                                            '10%' ];
                                },
                                axisPointer : {
                                    type : 'cross',
                                    animation : false,
                                    label : {
                                        backgroundColor : '#505765'
                                    }
                                },
                                // textStyle: {
                                //     color:"white"
                                // }
                            },
                            legend : {
                                data : [ 'Tax Burden',
                                        'Average Tax Burden',
                                        'Tax Burden Warning Value' ],
                                selected : {
                                    'Tax Burden' : true,
                                    'Average Tax Burden' : true,
                                    'Tax Burden Warning Value' : true
                                },
                                // textStyle: {
                                //     color:"white"
                                // },
                                x : 'center',
                                top : '36px'
                            },
                            title : {
                                left : 'center',
                                text : 'Tax Burden Level In 2014-2015',
                                // textStyle: {
                                //     color:"white"
                                // },
                            },
                            toolbox : {
                                feature : {
                                    saveAsImage : {}
                                },
                                showTitle : false
                            },
                            xAxis : {
                                type : 'category',
                                boundaryGap : false,
                                data : xdata,
                                // textStyle: {
                                //     color:"white"
                                // },
                            },
                            yAxis : {
                                name : 'Tax Burden(%)',
                                type : 'value',
                                boundaryGap : [ 0,
                                        '100%' ]
                            },
                            grid :{
                                left:"12%",
                                right:"8%",
                                // bottom:"15%"
                            },
                            dataZoom : [
                                    {
                                        type : 'inside',
                                        start : 0,
                                        end : 50
                                    },
                                    {
                                        start : 0,
                                        end : 50,
                                        handleIcon : 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z',
                                        handleSize : '80%',
                                        handleStyle : {
                                            color : '#fff',
                                            shadowBlur : 3,
                                            shadowColor : 'rgba(0, 0, 0, 0.6)',
                                            shadowOffsetX : 2,
                                            shadowOffsetY : 2
                                        }
                                    } ],
                            series : [
                                    {
                                        name : 'Tax Burden',
                                        type : 'line',
                                        smooth : true,
                                        symbol : 'none',
                                        sampling : 'average',

                                        itemStyle : {
                                            normal : {
                                                color : 'rgb(0, 146, 216)'
                                            }
                                        },

                                        areaStyle : {
                                            normal : {
                                                color : new echarts.graphic.LinearGradient(
                                                        0,
                                                        0,
                                                        0,
                                                        1,
                                                        [
                                                                {
                                                                    offset : 0,
                                                                    color : 'rgb(0, 185, 239)'
                                                                },
                                                                {
                                                                    offset : 1,
                                                                    color : 'rgb(173, 222, 248)'
                                                                } ])
                                            }
                                        },
                                        data : ydata1,
                                        // markLine : {
                                        //     label : {
                                        //         normal : {
                                        //             show : true,
                                        //             position : 'end',
                                        //             formatter : 'average{c}'
                                        //         }
                                        //     },
                                        //     data : [ {
                                        //         type : 'average',
                                        //         name : 'average data'
                                        //     } ]
                                        // }
                                    },
                                    {
                                        name : 'Average Tax Burden',
                                        type : 'line',
                                        smooth : true,
                                        symbol : 'none',
                                        sampling : 'average',
                                        itemStyle : {
                                            normal : {
                                                color : 'rgb(81, 107, 145)'
                                            }
                                        },
                                        areaStyle : {},
                                        data : ydata2
                                    },
                                    {
                                        name : 'Tax Burden Warning Value',
                                        type : 'line',
                                        smooth : true,
                                        symbol : 'none',
                                        sampling : 'average',
                                        itemStyle : {
                                            normal : {
                                                color : 'rgb(245, 141, 178)'
                                            }
                                        },
                                        areaStyle : {},
                                        data : ydata3
                                    } ]
                         };
                        // 使用刚指定的配置项和数据显示税负水平异常图表
                        cross_wise_chart.setOption(option2);
                    }
            );
            //税负变动异常图
            $
            .get(
                   'http://localhost:8081/tianwangcha/yzk/nsr/json/'+nsrdzdah)
            .done(
                    function(yzkJson) {
                        // console.dir(yzkJson);
                        // 首先判断是否为空，以便对该折线图进行显示或隐藏
                        if (jQuery
                                .isEmptyObject(yzkJson.year_month)) {
                            return;
                        }

                        // 基于准备好的dom，初始化echarts实例
                        var cross_wise_chart = echarts.init(document.getElementById('sfbd'));
                        var xdata = yzkJson.year_month;
                        var ydata1 = yzkJson.sf;
                        var ydata2 = yzkJson.sfbdl;

                        // 预警值上界
                        var yjzUP = new Array(
                                xdata.length);
                        // 预警值下界
                        var yjzDOWN = new Array(
                                xdata.length);
                        for (var i = 0; i < yjzUP.length; i++) {
                            yjzUP[i] = 30;
                            yjzDOWN[i] = -30;
                        }

                        var legendFlag = 'left';
                        var sfbd_option = {
                            // textStyle: {
                            //     color:'white'
                            // },
                            tooltip : {
                                trigger : 'axis',
                                position : function(pt) {
                                    return [ pt[0],
                                            '10%' ];
                                },
                                axisPointer : {
                                    type : 'cross',
                                    animation : false,
                                    label : {
                                        backgroundColor : '#505765'
                                    }
                                }
                            },
                            legend : {
                                data : [ 'Tax Burden', 'Variation Rate',
                                        'Warning Rate(max)',
                                        'Warning Rate(min)' ],
                                selected : {
                                    'Tax Burden' : true,
                                    'Variation Rate' : true,
                                    'Warning Rate(max)' : true,
                                    'Warning Rate(min)' : true
                                },
                                x : 'center',
                                top : '36px'
                            },
                            title : {
                                left : 'center',
                                text : 'Tax Burden Variation In 2014-2015',
                                // textStyle: {
                                //     color:'white'
                                // },
                            },
                            toolbox : {
                                feature : {
                                    myTool1 : {
                                        show : true,
                                        title : 'show another Y-axis',
                                        icon : 'path://M432.45,595.444c0,2.177-4.661,6.82-11.305,6.82c-6.475,0-11.306-4.567-11.306-6.82s4.852-6.812,11.306-6.812C427.841,588.632,432.452,593.191,432.45,595.444L432.45,595.444z M421.155,589.876c-3.009,0-5.448,2.495-5.448,5.572s2.439,5.572,5.448,5.572c3.01,0,5.449-2.495,5.449-5.572C426.604,592.371,424.165,589.876,421.155,589.876L421.155,589.876z M421.146,591.891c-1.916,0-3.47,1.589-3.47,3.549c0,1.959,1.554,3.548,3.47,3.548s3.469-1.589,3.469-3.548C424.614,593.479,423.062,591.891,421.146,591.891L421.146,591.891zM421.146,591.891',
                                        onclick : function() {
                                            if (legendFlag == 'left') {
                                                sfbd_option.legend.selected = {
                                                    'Tax Burden' : true,
                                                    'Variation Rate' : true,
                                                    'Warning Rate(max)' : true,
                                                    'Warning Rate(min)' : true
                                                };
                                                legendFlag = 'right';
                                            } else {
                                                sfbd_option.legend.selected = {
                                                    'Tax Burden' : true,
                                                    'Variation Rate' : true,
                                                    'Warning Rate(max)' : true,
                                                    'Warning Rate(min)' : true
                                                };
                                                legendFlag = 'left';
                                            }
                                            cross_wise_chart.setOption(sfbd_option);;
                                        }
                                    },
                                    saveAsImage : {}
                                },
                                showTitle : false
                            },
                            xAxis : {
                                type : 'category',
                                boundaryGap : false,
                                data : xdata
                            },
                            yAxis : [
                                    {
                                        name : 'Tax Burden(%)',
                                        type : 'value',
                                        boundaryGap : [
                                                0,
                                                '100%' ],
                                    },
                                    {
                                        name : 'Variation Rate(%)',
                                        type : 'value',
                                        min : 'dataMin',
                                        max : 'dataMax',
                                        boundaryGap : [
                                                0,
                                                '100%' ],
                                    } ],
                            grid :{
                                left:"12%",
                                right:"8%"
                                // bottom:"15%"
                            },
                            dataZoom : [
                                    {
                                        type : 'inside',
                                        start : 0,
                                        end : 50
                                    },
                                    {
                                        start : 0,
                                        end : 50,
                                        handleIcon : 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z',
                                        handleSize : '80%',
                                        handleStyle : {
                                            color : '#fff',
                                            shadowBlur : 3,
                                            shadowColor : 'rgba(0, 0, 0, 0.6)',
                                            shadowOffsetX : 2,
                                            shadowOffsetY : 2
                                        }
                                    } ],
                            series : [
                                    {
                                        name : 'Tax Burden',
                                        type : 'line',
                                        smooth : true,
                                        symbol : 'none',
                                        sampling : 'average',
                                        itemStyle : {
                                            normal : {
                                                color : 'rgb(0, 146, 216)'
                                            }
                                        },
                                        areaStyle : {
                                            normal : {
                                                color : new echarts.graphic.LinearGradient(
                                                        0,
                                                        0,
                                                        0,
                                                        1,
                                                        [
                                                                {
                                                                    offset : 0,
                                                                    color : 'rgb(0, 185, 239)'
                                                                },
                                                                {
                                                                    offset : 1,
                                                                    color : 'rgb(173, 222, 248)'
                                                                } ])
                                            }
                                        },
                                        data : ydata1,
                                        // markLine : {
                                        //     label : {
                                        //         normal : {
                                        //             show : true,
                                        //             position : 'end',
                                        //             formatter : 'average{c}'
                                        //         }
                                        //     },
                                        //     data : [ {
                                        //         type : 'average',
                                        //         name : 'average'
                                        //     } ]
                                        // }
                                    },
                                    {
                                        name : 'Variation Rate',
                                        type : 'line',
                                        smooth : true,
                                        symbol : 'none',
                                        // symbol : 'triangle',
                                        // symbolSize : 8,//拐点大小
                                        sampling : 'average',
                                        yAxisIndex : 1,
                                        itemStyle : {
                                            normal : {
                                                color : 'rgb(81, 107, 145)'
                                            }
                                        },
                                        areaStyle : {},
                                        data : ydata2
                                    },
                                    {
                                        name : 'Warning Rate(max)',
                                        type : 'line',
                                        smooth : true,
                                        symbol : 'none',
                                        // symbol : 'triangle',
                                        // symbolSize : 8,//拐点大小
                                        sampling : 'average',
                                        yAxisIndex : 1,
                                        itemStyle : {
                                            normal : {
                                                color : 'rgb(245, 141, 178)'
                                            }
                                        },
                                        areaStyle : {},
                                        data : yjzUP
                                    },
                                    {
                                        name : 'Warning Rate(min)',
                                        type : 'line',
                                        smooth : true,
                                        symbol : 'none',
                                        // symbol : 'triangle',
                                        // symbolSize : 8,//拐点大小
                                        sampling : 'average',
                                        yAxisIndex : 1,
                                        itemStyle : {
                                            normal : {
                                                color : 'rgb(245, 141, 178)'
                                            }
                                        },
                                        areaStyle : {},
                                        data : yjzDOWN
                                    } ]
                        };
                        // 使用刚指定的配置项和数据显示税负水平异常图表
                        cross_wise_chart.setOption(sfbd_option);
                    }
            );

            //专票变动异常图
            $
            .get(
                    'http://localhost:8081/tianwangcha/yzk/nsr/json/'+nsrdzdah)
            .done(
                    function(yzkJson) {
                        console.dir(yzkJson);
                        // 首先判断是否为空，以便对该折线图进行显示或隐藏
                        if (jQuery
                                .isEmptyObject(yzkJson.year_month)) {
                            return;
                        }

                        // 基于准备好的dom，初始化echarts实例
                        var cross_wise_chart = echarts.init(document.getElementById('zpbd'));
                        var xdata = yzkJson.year_month;
                        var ydata1 = yzkJson.fpyl;
                        var ydata2 = yzkJson.fpyl_noc;
                        var ydata3 = yzkJson.fpyl_roc;

                        // 变动量预警值
                        var yjzNOC = new Array(
                                xdata.length);
                        // 变动率预警值
                        var yjzROC = new Array(
                                xdata.length);
                        for (var i = 0; i < yjzNOC.length; i++) {
                            yjzNOC[i] = 10;
                            yjzROC[i] = 30;
                        }

                        var legendFlag = 'left';
                        var zpbd_option = {
                            // textStyle: {
                            //     color:'white'
                            // },
                            tooltip : {
                                trigger : 'axis',
                                position : function(pt) {
                                    return [ pt[0],
                                            '10%' ];
                                },
                                axisPointer : {
                                    type : 'cross',
                                    animation : false,
                                    label : {
                                        backgroundColor : '#505765'
                                    }
                                }
                            },
                            legend : {
                                data : ['Dose','Variation Dose',
                                        'Variation Rate',
                                        'Warning Dose',
                                        'Warning Rate' ],
                                selected : {
                                    'Dose' : true,
                                    'Variation Dose' : true,
                                    'Variation Rate' : true,
                                    'Warning Dose' :true,
                                    'Warning Rate' : true
                                },
                                x : 'center',
                                top : '36px'
                            },
                            title : {
                                left : 'center',
                                text : 'Special Invoice In 2014-2015',
                                // textStyle: {
                                //     color:'white'
                                // },
                            },
                            toolbox : {
                                feature : {
                                    myTool1 : {
                                        show : true,
                                        title : 'show another y-axis',
                                        icon : 'path://M432.45,595.444c0,2.177-4.661,6.82-11.305,6.82c-6.475,0-11.306-4.567-11.306-6.82s4.852-6.812,11.306-6.812C427.841,588.632,432.452,593.191,432.45,595.444L432.45,595.444z M421.155,589.876c-3.009,0-5.448,2.495-5.448,5.572s2.439,5.572,5.448,5.572c3.01,0,5.449-2.495,5.449-5.572C426.604,592.371,424.165,589.876,421.155,589.876L421.155,589.876z M421.146,591.891c-1.916,0-3.47,1.589-3.47,3.549c0,1.959,1.554,3.548,3.47,3.548s3.469-1.589,3.469-3.548C424.614,593.479,423.062,591.891,421.146,591.891L421.146,591.891zM421.146,591.891',
                                        onclick : function() {
                                            if (legendFlag == 'left') {
                                                option.legend.selected = {
                                                    'Dose' : true,
                                                    'Variation Dose' : true,
                                                    'Variation Rate' : true,
                                                    'Warning Dose' : true,
                                                    'Warning Rate' : true
                                                };
                                                legendFlag = 'right';
                                            } else {
                                                option.legend.selected = {
                                                    'Dose' : true,
                                                    'Variation Dose' : true,
                                                    'Variation Rate' : true,
                                                    'Warning Dose' : true,
                                                    'Warning Rate' : true
                                                };
                                                legendFlag = 'left';
                                            }

                                            yzk_charts_fpyl_chart
                                                    .setOption(option);
                                        }
                                    },
                                    saveAsImage : {}
                                },
                                showTitle : false
                            },
                            xAxis : {
                                type : 'category',
                                boundaryGap : false,
                                data : xdata
                            },
                            yAxis : [
                                    {
                                        name : 'Dose',
                                        type : 'value',
                                        boundaryGap : [
                                                0,
                                                '100%' ]
                                    },
                                    {
                                        name : 'Variation Rate(%)',
                                        type : 'value',
                                        min : 'dataMin',
                                        max : 'dataMax',
                                        boundaryGap : [
                                                0,
                                                '100%' ]
                                    } ],
                            grid :{
                                left:"12%",
                                right:"8%",
                                top:"10%"
                            },
                            dataZoom : [
                                    {
                                        type : 'inside',
                                        start : 0,
                                        end : 50
                                    },
                                    {
                                        start : 0,
                                        end : 50,
                                        handleIcon : 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z',
                                        handleSize : '80%',
                                        handleStyle : {
                                            color : '#fff',
                                            shadowBlur : 3,
                                            shadowColor : 'rgba(0, 0, 0, 0.6)',
                                            shadowOffsetX : 2,
                                            shadowOffsetY : 2
                                        }
                                    } ],
                            series : [
                                    {
                                        name : 'Dose',
                                        type : 'line',
                                        smooth : true,
                                        symbol : 'none',
                                        // symbol : 'circle',
                                        // symbolSize : 8,//拐点大小
                                        sampling : 'average',
                                        itemStyle : {
                                            normal : {
                                                color : 'rgb(0, 146, 216)'
                                            }
                                        },
                                        areaStyle : {
                                            normal : {
                                                color : new echarts.graphic.LinearGradient(
                                                        0,
                                                        0,
                                                        0,
                                                        1,
                                                        [
                                                                {
                                                                    offset : 0,
                                                                    color : 'rgb(0, 185, 239)'
                                                                },
                                                                {
                                                                    offset : 1,
                                                                    color : 'rgb(173, 222, 248)'
                                                                } ])
                                            }
                                        },
                                        data : ydata1,
                                        // markLine : {
                                        //     label : {
                                        //         normal : {
                                        //             show : true,
                                        //             position : 'end',
                                        //             formatter : 'average{c}'
                                        //         }
                                        //     },
                                        //     data : [ {
                                        //         type : 'average',
                                        //         name : 'average'
                                        //     } ]
                                        // }
                                    },
                                    {
                                        name : 'Variation Dose',
                                        type : 'line',
                                        smooth : true,
                                        symbol : 'none',
                                        // symbol : 'circle',
                                        // symbolSize : 8,//拐点大小
                                        sampling : 'average',
                                        itemStyle : {
                                            normal : {
                                                color : 'rgb(135, 82, 157)'
                                            }
                                        },
                                        areaStyle : {
                                            normal : {
                                                color : new echarts.graphic.LinearGradient(
                                                        0,
                                                        0,
                                                        0,
                                                        1,
                                                        [
                                                                {
                                                                    offset : 0,
                                                                    color : 'rgb(214, 139, 185)'
                                                                },
                                                                {
                                                                    offset : 1,
                                                                    color : 'rgb(240, 197, 220)'
                                                                } ])
                                            }
                                        },
                                        data : ydata2,
                                    },
                                    {
                                        name : 'Variation Rate',
                                        type : 'line',
                                        smooth : true,
                                        symbol : 'none',
                                        // symbol : 'triangle',
                                        // symbolSize : 8,//拐点大小
                                        sampling : 'average',
                                        yAxisIndex : 1,
                                        itemStyle : {
                                            normal : {
                                                color : 'rgb(81, 107, 145)'
                                            }
                                        },
                                        areaStyle : {},
                                        data : ydata3
                                    },
                                    {
                                        name : 'Warning Dose',
                                        type : 'line',
                                        smooth : true,
                                        symbol : 'none',
                                        // symbol : 'circle',
                                        // symbolSize : 8,//拐点大小
                                        sampling : 'average',
                                        itemStyle : {
                                            normal : {
                                                color : 'rgb(203, 176, 227)'
                                            }
                                        },
                                        areaStyle : {},
                                        data : yjzNOC
                                    },
                                    {
                                        name : 'Warning Rate',
                                        type : 'line',
                                        smooth : true,
                                        symbol : 'none',
                                        // symbol : 'triangle',
                                        // symbolSize : 8,//拐点大小
                                        sampling : 'average',
                                        yAxisIndex : 1,
                                        itemStyle : {
                                            normal : {
                                                color : 'rgb(245, 141, 178)'
                                            }
                                        },
                                        areaStyle : {},
                                        data : yjzROC
                                    } ]
                        };
                        // 使用刚指定的配置项和数据显示税负水平异常图表
                        cross_wise_chart.setOption(zpbd_option);
                    }
            );

            //进销变动异常图
            $
            .get(
                   'http://localhost:8081/tianwangcha/yzk/nsr/json/'+nsrdzdah)
            .done(
                    function(yzkJson) {
                        console.dir(yzkJson);
                        // 首先判断是否为空，以便对该折线图进行显示或隐藏
                        if (jQuery
                                .isEmptyObject(yzkJson.year_month)) {
                            return;
                        }

                        // 基于准备好的dom，初始化echarts实例
                        var cross_wise_chart = echarts.init(document.getElementById('jxbd'));
                        var xdata = yzkJson.year_month;
                        var ydata1 = yzkJson.xxse;
                        var ydata2 = yzkJson.jxse;
                        var ydata3 = yzkJson.jxbd;

                        // 预警值
                        var yjz = new Array(
                                xdata.length);
                        for (var i = 0; i < yjz.length; i++) {
                            yjz[i] = 10;
                        }

                        var legendFlag = 'left';
                        var jxbd_option = {
                            // textStyle :{
                            //     color:'white'
                            // },
                            tooltip : {
                                trigger : 'axis',
                                position : function(pt) {
                                    return [ pt[0],
                                            '10%' ];
                                },
                                axisPointer : {
                                    type : 'cross',
                                    animation : false,
                                    label : {
                                        backgroundColor : '#505765'
                                    }
                                }
                            },
                            legend : {
                                data : [ 'Purchase Tax',
                                        'Sale Tax',
                                        'Variation Rate', 'Warning Data' ],
                                selected : {
                                    'Purchase Tax' : true,
                                    'Sale Tax' : true,
                                    'Variation Rate' : true,
                                    'Warning Data' : true
                                },
                                x : 'center',
                                top : '36px'
                            },
                            title : {
                                left : 'center',
                                text : 'Purchase-Sale Tax in 2014-2015',
                                // textStyle :{
                                //     color:'white'
                                // },
                            },
                            toolbox : {
                                feature : {
                                    myToolVAT : {
                                        show : true,
                                        title : 'show another y-axis',
                                        icon : 'path://M432.45,595.444c0,2.177-4.661,6.82-11.305,6.82c-6.475,0-11.306-4.567-11.306-6.82s4.852-6.812,11.306-6.812C427.841,588.632,432.452,593.191,432.45,595.444L432.45,595.444z M421.155,589.876c-3.009,0-5.448,2.495-5.448,5.572s2.439,5.572,5.448,5.572c3.01,0,5.449-2.495,5.449-5.572C426.604,592.371,424.165,589.876,421.155,589.876L421.155,589.876z M421.146,591.891c-1.916,0-3.47,1.589-3.47,3.549c0,1.959,1.554,3.548,3.47,3.548s3.469-1.589,3.469-3.548C424.614,593.479,423.062,591.891,421.146,591.891L421.146,591.891zM421.146,591.891',
                                        onclick : function() {
                                            if (legendFlag == 'left') {
                                                option.legend.selected = {
                                                    'Purchase Tax' : true,
                                                    'Sale Tax' : true,
                                                    'Variation Rate' : true,
                                                    'Warning Data' : true
                                                };
                                                legendFlag = 'right';
                                            } else {
                                                option.legend.selected = {
                                                    'Purchase Tax' : true,
                                                    'Sale Tax' : true,
                                                    'Variation Rate' : true,
                                                    'Warning Data' : true
                                                };
                                                legendFlag = 'left';
                                            }

                                            yzk_charts_jxbd_chart
                                                    .setOption(option);
                                        }
                                    },
                                    saveAsImage : {}
                                },
                                showTitle : false
                            },
                            xAxis : {
                                type : 'category',
                                boundaryGap : false,
                                data : xdata
                            },
                            yAxis : [
                                    {
                                        name : 'Tax Amount(RMB)',
                                        type : 'value',
                                        boundaryGap : [
                                                0,
                                                '100%' ]
                                    },
                                    {
                                        name : 'Variation Rate(%)',
                                        type : 'value',
                                        min : 'dataMin',
                                        max : 'dataMax',
                                        boundaryGap : [
                                                0,
                                                '100%' ]
                                    } ],
                            grid :{
                                left:"12%",
                                right:"8%",
                                bottom:"15%"
                            },
                            dataZoom : [
                                    {
                                        type : 'inside',
                                        start : 0,
                                        end : 50
                                    },
                                    {
                                        start : 0,
                                        end : 50,
                                        handleIcon : 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z',
                                        handleSize : '80%',
                                        handleStyle : {
                                            color : '#fff',
                                            shadowBlur : 3,
                                            shadowColor : 'rgba(0, 0, 0, 0.6)',
                                            shadowOffsetX : 2,
                                            shadowOffsetY : 2
                                        }
                                    } ],
                            series : [
                                    {
                                        name : 'Sale Tax',
                                        type : 'line',
                                        smooth : true,
                                        symbol : 'none',
                                        // symbol : 'circle',
                                        // symbolSize : 8,//拐点大小
                                        sampling : 'average',
                                        itemStyle : {
                                            normal : {
                                                color : 'rgb(135, 82, 157)'
                                            }
                                        },
                                        areaStyle : {
                                            normal : {
                                                color : new echarts.graphic.LinearGradient(
                                                        0,
                                                        0,
                                                        0,
                                                        1,
                                                        [
                                                                {
                                                                    offset : 0,
                                                                    color : 'rgb(214, 139, 185)'
                                                                },
                                                                {
                                                                    offset : 1,
                                                                    color : 'rgb(240, 197, 220)'
                                                                } ])
                                            }
                                        },
                                        data : ydata1
                                    },
                                    {
                                        name : 'Purchase Tax',
                                        type : 'line',
                                        smooth : true,
                                        symbol : 'none',
                                        // symbol : 'circle',
                                        // symbolSize : 8,//拐点大小
                                        sampling : 'average',
                                        itemStyle : {
                                            normal : {
                                                color : 'rgb(0, 146, 216)'
                                            }
                                        },
                                        areaStyle : {
                                            normal : {
                                                color : new echarts.graphic.LinearGradient(
                                                        0,
                                                        0,
                                                        0,
                                                        1,
                                                        [
                                                                {
                                                                    offset : 0,
                                                                    color : 'rgb(0, 185, 239)'
                                                                },
                                                                {
                                                                    offset : 1,
                                                                    color : 'rgb(173, 222, 248)'
                                                                } ])
                                            }
                                        },
                                        data : ydata2
                                    },
                                    {
                                        name : 'Variation Rate',
                                        type : 'line',
                                        smooth : true,
                                        symbol : 'none',
                                        // symbol : 'triangle',
                                        // symbolSize : 8,//拐点大小
                                        sampling : 'average',
                                        yAxisIndex : 1,
                                        itemStyle : {
                                            normal : {
                                                color : 'rgb(81, 107, 145)'
                                            }
                                        },
                                        areaStyle : {},
                                        data : ydata3
                                    },
                                    {
                                        name : 'Warning Data',
                                        type : 'line',
                                        smooth : true,
                                        symbol : 'none',
                                        // symbol : 'triangle',
                                        // symbolSize : 8,//拐点大小
                                        sampling : 'average',
                                        yAxisIndex : 1,
                                        itemStyle : {
                                            normal : {
                                                color : 'rgb(245, 141, 178)'
                                            }
                                        },
                                        areaStyle : {},
                                        data : yjz
                                    } ]
                        };
                        // 使用刚指定的配置项和数据显示税负水平异常图表
                        cross_wise_chart.setOption(jxbd_option);
                    }
            );

            //弹性系数异常图
            $
            .get(
                   'http://localhost:8081/tianwangcha/yzk/nsr/json/'+nsrdzdah)
            .done(
                    function(yzkJson) {
                        console.dir(yzkJson);
                        // 首先判断是否为空，以便对该折线图进行显示或隐藏
                        if (jQuery
                                .isEmptyObject(yzkJson.year_month)) {
                            return;
                        }

                        // 基于准备好的dom，初始化echarts实例
                        var cross_wise_chart = echarts.init(document.getElementById('txxs'));
                        var xdata = yzkJson.year_month;
                        var ydata1 = yzkJson.xse;
                        var ydata2 = yzkJson.ynse;
                        var ydata3 = yzkJson.txxs;

                        // 预警值
                        var yjz = new Array(
                                xdata.length);
                        for (var i = 0; i < yjz.length; i++) {
                            yjz[i] = 1;
                        }

                        var legendFlag = 'left';
                        var txxs_option = {
                            // textStyle :{
                            //   color :'white'
                            // },
                            tooltip : {
                                trigger : 'axis',
                                position : function(pt) {
                                    return [ pt[0],
                                            '10%' ];
                                },
                                axisPointer : {
                                    type : 'cross',
                                    animation : false,
                                    label : {
                                        backgroundColor : '#505765'
                                    }
                                }
                            },
                            legend : {
                                data : [ 'Sale Amount', 'Supposed Tax',
                                        'Elastic Coefficient', 'Warning Data' ],
                                selected : {
                                    'Sale Amount' : true,
                                    'Supposed Tax' : true,
                                    'Elastic Coefficient' : true,
                                    'Warning Data' : true
                                },
                                x : 'center',
                                top : '36px'
                            },
                            title : {
                                left : 'center',
                                text : 'Sale Amount and Supposed Tax in 2014-2015',
                                // textStyle :{
                                //     color :'white'
                                // },
                            },
                            toolbox : {
                                feature : {
                                    myTool1 : {
                                        show : true,
                                        title : 'show another y-axis',
                                        icon : 'path://M432.45,595.444c0,2.177-4.661,6.82-11.305,6.82c-6.475,0-11.306-4.567-11.306-6.82s4.852-6.812,11.306-6.812C427.841,588.632,432.452,593.191,432.45,595.444L432.45,595.444z M421.155,589.876c-3.009,0-5.448,2.495-5.448,5.572s2.439,5.572,5.448,5.572c3.01,0,5.449-2.495,5.449-5.572C426.604,592.371,424.165,589.876,421.155,589.876L421.155,589.876z M421.146,591.891c-1.916,0-3.47,1.589-3.47,3.549c0,1.959,1.554,3.548,3.47,3.548s3.469-1.589,3.469-3.548C424.614,593.479,423.062,591.891,421.146,591.891L421.146,591.891zM421.146,591.891',
                                        onclick : function() {
                                            if (legendFlag == 'left') {
                                                option.legend.selected = {
                                                    'Sale Amount' : true,
                                                    'Supposed Tax' : true,
                                                    'Elastic Coefficient' : true,
                                                    'Warning Data' : true
                                                };
                                                legendFlag = 'right';
                                            } else {
                                                option.legend.selected = {
                                                    'Sale Amount' : true,
                                                    'Supposed Tax' : true,
                                                    'Elastic Coefficient' : true,
                                                    'Warning Data' : true
                                                };
                                                legendFlag = 'left';
                                            }

                                            yzk_charts_txxs_chart
                                                    .setOption(option);
                                        }
                                    },
                                    saveAsImage : {}
                                },
                                showTitle : false
                            },
                            xAxis : {
                                type : 'category',
                                boundaryGap : false,
                                data : xdata
                            },
                            yAxis : [
                                    {
                                        name : 'Amount(RMB)',
                                        type : 'value',
                                        boundaryGap : [
                                                0,
                                                '100%' ]
                                    },
                                    {
                                        name : 'Elastic Coefficient(%)',
                                        type : 'value',
                                        min : 'dataMin',
                                        max : 'dataMax',
                                        boundaryGap : [
                                                0,
                                                '100%' ]
                                    } ],
                            grid :{
                                left:"12%",
                                right:"8%",
                                bottom:"15%"
                            },
                            dataZoom : [
                                    {
                                        type : 'inside',
                                        start : 0,
                                        end : 50
                                    },
                                    {
                                        start : 0,
                                        end : 50,
                                        handleIcon : 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z',
                                        handleSize : '80%',
                                        handleStyle : {
                                            color : '#fff',
                                            shadowBlur : 3,
                                            shadowColor : 'rgba(0, 0, 0, 0.6)',
                                            shadowOffsetX : 2,
                                            shadowOffsetY : 2
                                        }
                                    } ],
                            series : [
                                    {
                                        name : 'Sale Amount',
                                        type : 'line',
                                        smooth : true,
                                        symbol : 'none',
                                        // symbol : 'circle',
                                        // symbolSize : 8,//拐点大小
                                        sampling : 'average',
                                        itemStyle : {
                                            normal : {
                                                color : 'rgb(135, 82, 157)'
                                            }
                                        },
                                        areaStyle : {
                                            normal : {
                                                color : new echarts.graphic.LinearGradient(
                                                        0,
                                                        0,
                                                        0,
                                                        1,
                                                        [
                                                                {
                                                                    offset : 0,
                                                                    color : 'rgb(214, 139, 185)'
                                                                },
                                                                {
                                                                    offset : 1,
                                                                    color : 'rgb(240, 197, 220)'
                                                                } ])
                                            }
                                        },
                                        data : ydata1
                                    },
                                    {
                                        name : 'Supposed Tax',
                                        type : 'line',
                                        smooth : true,
                                        symbol : 'none',
                                        // symbol : 'circle',
                                        // symbolSize : 8,//拐点大小
                                        sampling : 'average',
                                        itemStyle : {
                                            normal : {
                                                color : 'rgb(0, 146, 216)'
                                            }
                                        },
                                        areaStyle : {
                                            normal : {
                                                color : new echarts.graphic.LinearGradient(
                                                        0,
                                                        0,
                                                        0,
                                                        1,
                                                        [
                                                                {
                                                                    offset : 0,
                                                                    color : 'rgb(0, 185, 239)'
                                                                },
                                                                {
                                                                    offset : 1,
                                                                    color : 'rgb(173, 222, 248)'
                                                                } ])
                                            }
                                        },
                                        data : ydata2
                                    },
                                    {
                                        name : 'Elastic Coefficient',
                                        type : 'line',
                                        smooth : true,
                                        symbol : 'none',
                                        // symbol : 'triangle',
                                        // symbolSize : 8,//拐点大小
                                        sampling : 'average',
                                        yAxisIndex : 1,
                                        itemStyle : {
                                            normal : {
                                                color : 'rgb(81, 107, 145)'
                                            }
                                        },
                                        areaStyle : {},
                                        data : ydata3
                                    },
                                    {
                                        name : 'Warning Data',
                                        type : 'line',
                                        smooth : true,
                                        symbol : 'none',
                                        // symbol : 'triangle',
                                        // symbolSize : 8,//拐点大小
                                        sampling : 'average',
                                        yAxisIndex : 1,
                                        itemStyle : {
                                            normal : {
                                                color : 'rgb(245, 141, 178)'
                                            }
                                        },
                                        areaStyle : {},
                                        data : yjz
                                    } ]
                        };
                        // 使用刚指定的配置项和数据显示税负水平异常图表
                        cross_wise_chart.setOption(txxs_option);
                    }
            );
        }
        changeDataSource('610008000023872780');
        function showChart(chart_name) {
            var list = ['sfsp','sfbd','zpbd','jxbd','txxs']
            for(var i in list){
                //把其他所有的图都隐藏
                if(!$('#'+list[i]).hasClass('hidden'))$('#'+list[i]).addClass('hidden');

                //把当前高亮的title去掉
                if($('#'+list[i]+'-title').hasClass('active'))$('#'+list[i]+'-title').removeClass('active');
                i++;
            }
            //触发当前所选择的title和图的展示
            $('#'+chart_name).removeClass('hidden');
            $('#'+chart_name+'-title').addClass('active');
        }

</script>
</body>
</html>